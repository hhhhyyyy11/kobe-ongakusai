name: GitHub Copilot Review (Japanese)

on:
  pull_request:
    branches: [develop]
    types: [opened, synchronize, reopened]

jobs:
  copilot-review:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Request Copilot Review in Japanese
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const prNumber = context.payload.pull_request.number;
            const owner = context.repo.owner;
            const repo = context.repo.repo;

            // ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«æ—¥æœ¬èªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¦æ±‚ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
            const reviewRequest = `@github-copilot[bot]

            ã“ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’**æ—¥æœ¬èª**ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ãã ã•ã„ã€‚ä»¥ä¸‹ã®è¦³ç‚¹ã§ãŠé¡˜ã„ã—ã¾ã™ï¼š

            ## ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ï¼ˆæ—¥æœ¬èªã§å›ç­”ã—ã¦ãã ã•ã„ï¼‰
            - ğŸ“ **ã‚³ãƒ¼ãƒ‰å“è³ª**: TypeScriptã®å‹å®‰å…¨æ€§ã€Next.jsã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
            - ğŸ¨ **UI/UX**: Tailwind CSSã®é©åˆ‡ãªä½¿ç”¨ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
            - âš¡ **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: Next.js Imageæœ€é©åŒ–ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º
            - â™¿ **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTMLã€ARIAå±æ€§
            - ğŸŒ **å›½éš›åŒ–**: æ—¥æœ¬èªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é©åˆ‡ãªå‡¦ç†

            **é‡è¦**: ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æ—¥æœ¬èªã§æä¾›ã—ã¦ãã ã•ã„ã€‚ç¥æˆ¸éŸ³å­¦ç¥­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è€ƒæ…®ã—ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚`;

            await github.rest.issues.createComment({
              owner,
              repo,
              issue_number: prNumber,
              body: reviewRequest
            });
